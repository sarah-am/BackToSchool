{% extends "base.html" %}

{% block title %}Students <span class="badge badge-dark"> {{ user.classrooms.all.count }}</span> {% endblock title %}

{% block content %}


<!-- Table with panel -->
<div class="card card-cascade narrower">

  <!--Card image-->
  <div
    class="view view-cascade gradient-card-header blue-gradient narrower py-2 mx-4 mb-3 d-flex justify-content-between align-items-center">

    <div>
      <button type="button" class="btn btn-outline-white btn-rounded btn-sm px-2">
        <i class="fas fa-th-large mt-0"></i>
      </button>
      <button type="button" class="btn btn-outline-white btn-rounded btn-sm px-2">
        <i class="fas fa-columns mt-0"></i>
      </button>
    </div>

    <a href="" class="white-text mx-3">Table name</a>

    <div>
      <button type="button" class="btn btn-outline-white btn-rounded btn-sm px-2">
        <i class="fas fa-pencil-alt mt-0"></i>
      </button>
      <button type="button" class="btn btn-outline-white btn-rounded btn-sm px-2">
        <i class="far fa-trash-alt mt-0"></i>
      </button>
      <button type="button" class="btn btn-outline-white btn-rounded btn-sm px-2">
        <i class="fas fa-info-circle mt-0"></i>
      </button>
    </div>

  </div>
  <!--/Card image-->

  <div class="px-4">

<table id="dtBasicExample" class="table table-bordered table-striped table-sm " cellspacing="0" width="100%">
          <thead>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col" style="text-align:center">Date of Birth</th>
            <th scope="col" style="text-align:center">Gender</th>  
            <th scope="col" style="text-align:center">Classroom</th>
            <th scope="col" style="text-align:center">Student Profile</th>            
          </thead>
          <tbody>
        {% for classroom in user.classrooms.all %}            
          {% for student in classroom.students.all %}
            <tr>
              <th scope="row">{{ forloop.counter }}</th>
              <td scope="row">{{ student.name|title }}</td>
              <td scope="row" style="text-align:center">{{ student.dob }}</td>
              <td scope="row" style="text-align:center">{{ student.gender }}</td>               
              <td scope="row" style="text-align:center">{{ student.classroom.title }}</td> 
              <td scope="row">
                <a href="#" class="btn btn-primary btn-light btn-sm btn-block" >View</a>
              </td>              
            </tr> 
          {% endfor %}   
        {% endfor %}               
          </tbody>
                
        </table>

{% endblock content %}


<script type="text/javascript">
   $(document).ready(function () {
    $('#dtBasicExample').DataTable();
    $('.dataTables_length').addClass('bs-select');
  });
</script>

